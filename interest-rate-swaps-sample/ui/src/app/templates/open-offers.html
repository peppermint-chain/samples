<div class="panel panel-default">
	<div class="panel-heading">
		Proposals
		<button class="primary-button" md-raised-button 
			(click)="newTrade()">New Trade</button>
	</div>
	<div class="panel-body" style="overflow-x: auto;">
		<table class="table" id="tblOffers">
			<tbody>
				<tr *ngFor="let offer of offers"  [class.pendingOffer]="offer.pending">
					<td>
						<div class="cellContainer">
							<div *ngIf="offer.pending">
								<label style="margin-bottom: 20px; color: #f89c00">Pending Confirmation</label> 								
							</div>
							<div>
								<label style="margin-bottom: 20px">Proposed
									By:</label> {{offer.proposedBy}} 
							</div>
							<div *ngIf="!offer.pending">
								<button   md-raised-button
									*ngIf="offer.proposedBy == appState.NodeName"
									(click)="proposeEdits(offer)">Edit</button>
								<button   md-raised-button
									*ngIf="offer.proposedBy != appState.NodeName"
									(click)="acceptOffer(offer)">Accept</button>
							</div>
						</div>
					</td>
					<td>
						<div class="cellContainer">
							<div>
								<label>Contract Id:</label> {{offer.contractId}}
							</div>
							<div>
								<label>Buyer Id:</label> {{offer.buyerId}}
							</div>
							<div>
								<label>Seller Id:</label> {{offer.sellerId}}
							</div>
						</div>
					</td>
					<td>
						<div class="cellContainer">
							<div>
								<label>Start Date:</label> {{offer.startDate| date: 'MM/dd/yyyy'}}
							</div>
							<div>
								<label>Maturity Date:</label> {{offer.maturityDate| date: 'MM/dd/yyyy'}}
							</div>
							<div>
								<label>Coupon Freq:</label> {{offer.couponFrequency}}
							</div>
						</div>
					</td>
					<td>
						<div class="cellContainer">
							<div>
								<label>Notional Amt:</label> {{offer.notionalAmount|number: '3.2-4'}}
							</div>
							<div>
								<label>Fixed Rate:</label> {{offer.fixedLegRate|number: '1.2-4'}}
							</div>
							<div>
								<label>Index:</label> {{offer.floatingRateIndex}}
							</div>
							<div>
								<label>Spread:</label> {{offer.floatingRateSpread|number: '1.2-4'}}
							</div>
						</div>
					</td>
				</tr>
			</tbody>
		</table>

	</div>
</div>

<!-- 

					<tr class="active" >
						<td colspan="9" ><button *ngIf="opair.myOffer" class="btn btn-sm btn-warning"
								(click)="proposeEdits(opair.counterOffer)">Accept
								Changes</button>
							<button *ngIf="opair.myOffer" class="btn btn-sm btn-warning"
								(click)="proposeEdits(opair.myOffer)">Edit</button></td>
					</tr>
 -->
<div class="modal fade" id="newTrade" tabindex="-1" role="dialog">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<h4 class="modal-title" id="myModalLabel">New Trade</h4>
			</div>
			<div class="modal-body">
				<div class="container-fluid">
					<div class="row">
						<div class="col-md-4">
							<label>Contract id</label>
						</div>
						<div class="col-md-4">
							<label>Buyer Id</label>
						</div>
						<div class="col-md-4">
							<label>Seller Id</label>
						</div>
					</div>
					<div class="row">
						<div class="col-md-4">
							<input type="text" class="form-control"
								[(ngModel)]="modalOffer.contractId">
						</div>
						<div class="col-md-4">
							<select name="buyerId" [(ngModel)]="modalOffer.buyerId"
								class="form-control">
								<option value="" disabled>Choose an Org</option>
								<option *ngFor="let peer of appState.Peers"
									[ngValue]="peer.NodeName">{{ peer.NodeName }}</option>
							</select>
						</div>
						<div class="col-md-4">
							<select name="modalOffer.sellerId"
								[(ngModel)]="modalOffer.sellerId" class="form-control">
								<option value="" disabled>Choose an Org</option>
								<option *ngFor="let peer of appState.Peers"
									[ngValue]="peer.NodeName">{{ peer.NodeName }}</option>
							</select>
						</div>
					</div>
					<div class="row">
						<div class="col-md-4">
							<label>Fixed Rate</label>
						</div>
						<div class="col-md-4">
							<label>Float Index</label>
						</div>
						<div class="col-md-4">
							<label>Spread</label>
						</div>
					</div>
					<div class="row">
						<div class="col-md-4">
							<input type="text" class="form-control"
								[(ngModel)]="modalOffer.fixedLegRate">
						</div>
						<div class="col-md-4">
							<input type="email" class="form-control"
								[(ngModel)]="modalOffer.floatingRateIndex">
						</div>
						<div class="col-md-4">
							<input type="email" class="form-control"
								[(ngModel)]="modalOffer.spread">
						</div>
					</div>
					<div class="row">
						<div class="col-md-4">
							<label>Notional Amt</label>
						</div>
						<div class="col-md-4">
							<label>Start Date</label>
						</div>
						<div class="col-md-4">
							<label>Maturity Date</label>
						</div>
					</div>
					<div class="row">
						<div class="col-md-4">
							<input type="text" class="form-control"
								[(ngModel)]="modalOffer.notionalAmount">
						</div>
						<div class="col-md-4">
							<input type="email" class="form-control"
								[(ngModel)]="modalOffer.startDate">
						</div>
						<div class="col-md-4">
							<input type="email" class="form-control"
								[(ngModel)]="modalOffer.maturityDate">
						</div>
					</div>
					<div class="row">
						<div class="col-md-4">
							<label>Frequency</label>
						</div>
					</div>
					<div class="row">
						<div class="col-md-4">
							<input type="text" class="form-control"
								[(ngModel)]="modalOffer.couponFrequency">
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="modal-footer">
			<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			<button type="button" class="btn btn-primary" (click)="modalOK()">OK</button>
		</div>
	</div>
</div>


